(()=>{"use strict";var e={5827:(e,n,t)=>{t(3792),t(3362),t(9085),t(9391);var r=t(3751),a=t(641),u=t(33),o={id:"app",class:"torii-gate"},s={class:"top-bar"},l={class:"header-content"},i={class:"desktop-menu"},c={class:"shrine-content"};function d(e,n,t,r,d,p){var m=(0,a.g2)("router-link"),v=(0,a.g2)("router-view"),f=(0,a.g2)("LoginModal");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("header",s,[(0,a.Lk)("div",l,[(0,a.Lk)("div",{class:"logo-title",onClick:n[0]||(n[0]=function(){return r.goToHome&&r.goToHome.apply(r,arguments)})},n[6]||(n[6]=[(0,a.Lk)("span",{class:"logo"},"â›©ï¸",-1),(0,a.Lk)("h1",null,"ç·šä¸Šé»å…‰æ˜ç‡ˆå¹³å°",-1)])),(0,a.Lk)("nav",i,[(0,a.bF)(m,{to:"/",class:"shrine-menu-item"},{default:(0,a.k6)((function(){return n[7]||(n[7]=[(0,a.eW)("é¦–é ")])})),_:1}),r.isLoggedIn?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("a",{key:0,onClick:n[1]||(n[1]=function(){return r.openLoginModal&&r.openLoginModal.apply(r,arguments)}),class:"shrine-menu-item"},"ç™»å…¥")),r.isLoggedIn?((0,a.uX)(),(0,a.Wv)(m,{key:1,to:"/profile",class:"shrine-menu-item"},{default:(0,a.k6)((function(){return n[8]||(n[8]=[(0,a.eW)("æœƒå“¡è³‡æ–™")])})),_:1})):(0,a.Q3)("",!0),(0,a.bF)(m,{to:"/lanterns",class:"shrine-menu-item"},{default:(0,a.k6)((function(){return n[9]||(n[9]=[(0,a.eW)("å…‰æ˜ç‡ˆ")])})),_:1}),(0,a.bF)(m,{to:"/lantern-status",class:"shrine-menu-item"},{default:(0,a.k6)((function(){return n[10]||(n[10]=[(0,a.eW)("å…‰æ˜ç‡ˆç‹€æ…‹")])})),_:1}),r.isAdmin?((0,a.uX)(),(0,a.Wv)(m,{key:2,to:"/admin",class:"shrine-menu-item"},{default:(0,a.k6)((function(){return n[11]||(n[11]=[(0,a.eW)("ç®¡ç†å¾Œå°")])})),_:1})):(0,a.Q3)("",!0),r.isLoggedIn?((0,a.uX)(),(0,a.CE)("a",{key:3,onClick:n[2]||(n[2]=function(){return r.logout&&r.logout.apply(r,arguments)}),class:"shrine-menu-item"},"ç™»å‡º")):(0,a.Q3)("",!0)]),(0,a.Lk)("button",{class:"menu-toggle",onClick:n[3]||(n[3]=function(){return r.toggleMenu&&r.toggleMenu.apply(r,arguments)})},"â˜°")])]),(0,a.Lk)("nav",{class:(0,u.C4)(["mobile-menu",{active:r.isMenuActive}])},[(0,a.bF)(m,{to:"/",class:"shrine-menu-item",onClick:r.closeMenu},{default:(0,a.k6)((function(){return n[12]||(n[12]=[(0,a.eW)("é¦–é ")])})),_:1},8,["onClick"]),r.isLoggedIn?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("a",{key:0,onClick:n[4]||(n[4]=function(){return r.openLoginModalAndCloseMenu&&r.openLoginModalAndCloseMenu.apply(r,arguments)}),class:"shrine-menu-item"},"ç™»å…¥")),r.isLoggedIn?((0,a.uX)(),(0,a.Wv)(m,{key:1,to:"/profile",class:"shrine-menu-item",onClick:r.closeMenu},{default:(0,a.k6)((function(){return n[13]||(n[13]=[(0,a.eW)("æœƒå“¡è³‡æ–™")])})),_:1},8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(m,{to:"/lanterns",class:"shrine-menu-item",onClick:r.closeMenu},{default:(0,a.k6)((function(){return n[14]||(n[14]=[(0,a.eW)("å…‰æ˜ç‡ˆ")])})),_:1},8,["onClick"]),(0,a.bF)(m,{to:"/lantern-status",class:"shrine-menu-item",onClick:r.closeMenu},{default:(0,a.k6)((function(){return n[15]||(n[15]=[(0,a.eW)("å…‰æ˜ç‡ˆç‹€æ…‹")])})),_:1},8,["onClick"]),r.isAdmin?((0,a.uX)(),(0,a.Wv)(m,{key:2,to:"/admin",class:"shrine-menu-item",onClick:r.closeMenu},{default:(0,a.k6)((function(){return n[16]||(n[16]=[(0,a.eW)("ç®¡ç†å¾Œå°")])})),_:1},8,["onClick"])):(0,a.Q3)("",!0),r.isLoggedIn?((0,a.uX)(),(0,a.CE)("a",{key:3,onClick:n[5]||(n[5]=function(){return r.logoutAndCloseMenu&&r.logoutAndCloseMenu.apply(r,arguments)}),class:"shrine-menu-item"},"ç™»å‡º")):(0,a.Q3)("",!0)],2),(0,a.Lk)("main",c,[(0,a.bF)(v)]),n[17]||(n[17]=(0,a.Lk)("footer",{class:"shrine-footer"},[(0,a.Lk)("p",null,"Â© 2024 ç·šä¸Šé»å…‰æ˜ç‡ˆå¹³å°")],-1)),r.showLoginModal?((0,a.uX)(),(0,a.Wv)(f,{key:0,onClose:r.closeLoginModal},null,8,["onClose"])):(0,a.Q3)("",!0)])}t(4114);var p=t(953),m=t(6278),v=t(5220),f={class:"form-group"},k={class:"form-group"},L={key:0,class:"error-message"},h={class:"links"};function g(e,n,t,o,s,l){var i=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",{class:"modal-backdrop",onClick:n[5]||(n[5]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})},[(0,a.Lk)("div",{class:"modal",onClick:n[4]||(n[4]=(0,r.D$)((function(){}),["stop"]))},[(0,a.Lk)("button",{class:"close-button",onClick:n[0]||(n[0]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})},"Ã—"),n[11]||(n[11]=(0,a.Lk)("h2",null,"ç™»å…¥",-1)),(0,a.Lk)("form",{onSubmit:n[3]||(n[3]=(0,r.D$)((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"])),class:"login-form"},[(0,a.Lk)("div",f,[n[6]||(n[6]=(0,a.Lk)("label",{for:"email"},"ç”¨æˆ¶åï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"email","onUpdate:modelValue":n[1]||(n[1]=function(e){return o.email=e}),type:"text",required:""},null,512),[[r.Jo,o.email]])]),(0,a.Lk)("div",k,[n[7]||(n[7]=(0,a.Lk)("label",{for:"password"},"å¯†ç¢¼ï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"password","onUpdate:modelValue":n[2]||(n[2]=function(e){return o.password=e}),type:"password",required:""},null,512),[[r.Jo,o.password]])]),n[8]||(n[8]=(0,a.Lk)("button",{type:"submit"},"ç™»å…¥",-1))],32),o.error?((0,a.uX)(),(0,a.CE)("p",L,(0,u.v_)(o.error),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",h,[(0,a.bF)(i,{to:"/register",onClick:o.closeModal},{default:(0,a.k6)((function(){return n[9]||(n[9]=[(0,a.eW)("è¨»å†Šæ–°å¸³è™Ÿ")])})),_:1},8,["onClick"]),(0,a.bF)(i,{to:"/forgot-password",onClick:o.closeModal},{default:(0,a.k6)((function(){return n[10]||(n[10]=[(0,a.eW)("å¿˜è¨˜å¯†ç¢¼")])})),_:1},8,["onClick"])])])])}var w=t(4048),b=t(388);const y={emits:["close"],setup:function(e,n){var t=n.emit,r=(0,p.KR)(""),a=(0,p.KR)(""),u=(0,p.KR)(""),o=(0,m.Pj)(),s=(0,v.rd)(),l=function(){var e=(0,b.A)((0,w.A)().mark((function e(){var n;return(0,w.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.dispatch("login",{email:r.value,password:a.value});case 3:n=e.sent,n.isAdmin?s.push("/admin"):s.push("/"),i(),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),u.value="ç™»å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥æ‚¨çš„ç”¨æˆ¶åå’Œå¯†ç¢¼",console.error("ç™»å…¥å¤±æ•—",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=function(){t("close")};return{email:r,password:a,error:u,login:l,closeModal:i}}};var A=t(6262);const C=(0,A.A)(y,[["render",g],["__scopeId","data-v-3a52ca16"]]),P=C,_={components:{LoginModal:P},setup:function(){var e=(0,m.Pj)(),n=(0,v.rd)(),t=(0,a.EW)((function(){return e.state.showLoginModal})),r=(0,a.EW)((function(){return e.state.user&&e.state.user.isAdmin})),u=(0,a.EW)((function(){return!!e.state.user})),o=(0,p.KR)(!1),s=function(){n.push("/"),f()},l=function(){e.dispatch("logout"),n.push("/")},i=function(){e.commit("setShowLoginModal",!0)},c=function(){e.commit("setShowLoginModal",!1)},d=function(){o.value=!o.value},f=function(){o.value=!1},k=function(){i(),f()},L=function(){l(),f()};return{isAdmin:r,isLoggedIn:u,goToHome:s,logout:l,showLoginModal:t,openLoginModal:i,closeLoginModal:c,isMenuActive:o,toggleMenu:d,closeMenu:f,openLoginModalAndCloseMenu:k,logoutAndCloseMenu:L}}},x=(0,A.A)(_,[["render",d]]),E=x;t(5086),t(6099);var X={class:"home"},M={class:"carousel"},I=["src"];function S(e,n,t,r,o,s){return(0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("div",M,[(0,a.Lk)("div",{class:"carousel-inner",style:(0,u.Tr)({transform:"translateX(-".concat(100*r.currentIndex,"%)")})},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.images,(function(e,n){return(0,a.uX)(),(0,a.CE)("div",{key:n,class:"carousel-item"},[(0,a.Lk)("img",{src:e,alt:"å»£å‘Šåœ–ç‰‡"},null,8,I)])})),128))],4),(0,a.Lk)("button",{class:"carousel-control prev",onClick:n[0]||(n[0]=function(){return r.prevSlide&&r.prevSlide.apply(r,arguments)})},"<"),(0,a.Lk)("button",{class:"carousel-control next",onClick:n[1]||(n[1]=function(){return r.nextSlide&&r.nextSlide.apply(r,arguments)})},">")]),n[3]||(n[3]=(0,a.Lk)("h2",null,"æ­¡è¿ä¾†åˆ°ç·šä¸Šé»å…‰æ˜ç‡ˆå¹³å°",-1)),n[4]||(n[4]=(0,a.Lk)("div",{class:"lantern-animation"}," ğŸ®ğŸ®ğŸ® ",-1)),n[5]||(n[5]=(0,a.Lk)("p",{class:"welcome-text"},"åœ¨é€™è£¡ï¼Œæ‚¨å¯ä»¥ç‚ºè‡ªå·±å’Œè¦ªæ„›çš„äººé»äº®ç¥ˆç¦çš„å…‰æ˜ç‡ˆ",-1)),(0,a.Lk)("button",{onClick:n[2]||(n[2]=function(){return r.startPraying&&r.startPraying.apply(r,arguments)}),class:"start-praying-btn"},"é–‹å§‹ç¥ˆç¦")])}t(6031);const U={name:"Home",setup:function(){var e=(0,m.Pj)(),n=(0,v.rd)(),t=["https://i.imgur.com/ujIuGaQ.png","https://i.imgur.com/3esBRck.jpg"],r=(0,p.KR)(0),u=(0,p.KR)(null),o=function(){r.value=(r.value+1)%t.length},s=function(){r.value=(r.value-1+t.length)%t.length},l=function(){u.value=setInterval(o,5e3)};(0,a.sV)((function(){l()})),(0,a.hi)((function(){u.value&&clearInterval(u.value)}));var i=function(){e.getters.isLoggedIn?n.push("/lanterns"):e.commit("setShowLoginModal",!0)};return{images:t,currentIndex:r,nextSlide:o,prevSlide:s,startPraying:i}}},F=(0,A.A)(U,[["render",S],["__scopeId","data-v-67245438"]]),W=F;var K={class:"register"};function R(e,n,t,u,o,s){var l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",K,[n[6]||(n[6]=(0,a.Lk)("h2",null,"è¨»å†Šæ–°å¸³è™Ÿ",-1)),(0,a.Lk)("form",{onSubmit:n[3]||(n[3]=(0,r.D$)((function(){return u.register&&u.register.apply(u,arguments)}),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return u.email=e}),type:"email",placeholder:"é›»å­éƒµä»¶",required:""},null,512),[[r.Jo,u.email]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return u.password=e}),type:"password",placeholder:"å¯†ç¢¼",required:""},null,512),[[r.Jo,u.password]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return u.confirmPassword=e}),type:"password",placeholder:"ç¢ºèªå¯†ç¢¼",required:""},null,512),[[r.Jo,u.confirmPassword]]),n[4]||(n[4]=(0,a.Lk)("button",{type:"submit"},"è¨»å†Š",-1))],32),(0,a.bF)(l,{to:"/login"},{default:(0,a.k6)((function(){return n[5]||(n[5]=[(0,a.eW)("å·²æœ‰å¸³è™Ÿï¼Ÿç™»å…¥")])})),_:1})])}const V={setup:function(){var e=(0,p.KR)(""),n=(0,p.KR)(""),t=(0,p.KR)(""),r=(0,v.rd)(),a=(0,m.Pj)(),u=function(){var u=(0,b.A)((0,w.A)().mark((function u(){return(0,w.A)().wrap((function(u){while(1)switch(u.prev=u.next){case 0:if(n.value===t.value){u.next=3;break}return alert("å¯†ç¢¼ä¸åŒ¹é…"),u.abrupt("return");case 3:return u.prev=3,u.next=6,a.dispatch("register",{email:e.value,password:n.value});case 6:r.push("/login"),u.next=12;break;case 9:u.prev=9,u.t0=u["catch"](3),console.error("è¨»å†Šå¤±æ•—",u.t0);case 12:case"end":return u.stop()}}),u,null,[[3,9]])})));return function(){return u.apply(this,arguments)}}();return{email:e,password:n,confirmPassword:t,register:u}}},q=(0,A.A)(V,[["render",R]]),O=q;var j={class:"forgot-password"};function D(e,n,t,u,o,s){var l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",j,[n[4]||(n[4]=(0,a.Lk)("h2",null,"å¿˜è¨˜å¯†ç¢¼",-1)),(0,a.Lk)("form",{onSubmit:n[1]||(n[1]=(0,r.D$)((function(){return u.resetPassword&&u.resetPassword.apply(u,arguments)}),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return u.email=e}),type:"email",placeholder:"é›»å­éƒµä»¶",required:""},null,512),[[r.Jo,u.email]]),n[2]||(n[2]=(0,a.Lk)("button",{type:"submit"},"é‡è¨­å¯†ç¢¼",-1))],32),(0,a.bF)(l,{to:"/login"},{default:(0,a.k6)((function(){return n[3]||(n[3]=[(0,a.eW)("è¿”å›ç™»å…¥")])})),_:1})])}const J={setup:function(){var e=(0,p.KR)(""),n=(0,v.rd)(),t=function(){var t=(0,b.A)((0,w.A)().mark((function t(){return(0,w.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:alert("å¯†ç¢¼é‡è¨­é€£çµå·²ç™¼é€åˆ° ".concat(e.value)),n.push("/login");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{email:e,resetPassword:t}}},$=(0,A.A)(J,[["render",D]]),Q=$;t(2675),t(9463),t(2010);var N={class:"lantern-list"},B={class:"lantern-grid"},H={class:"price"},T=["onClick"];function G(e,n,t,r,o,s){return(0,a.uX)(),(0,a.CE)("div",N,[n[1]||(n[1]=(0,a.Lk)("h2",null,"å…‰æ˜ç‡ˆé¡å‹",-1)),(0,a.Lk)("div",B,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.lanterns,(function(e){return(0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"lantern-item"},[n[0]||(n[0]=(0,a.Lk)("div",{class:"lantern-icon"},"ğŸ®",-1)),(0,a.Lk)("h3",null,(0,u.v_)(e.name),1),(0,a.Lk)("p",null,(0,u.v_)(e.description),1),(0,a.Lk)("p",H,"åƒ¹æ ¼: $"+(0,u.v_)(e.price),1),(0,a.Lk)("button",{onClick:function(n){return r.selectLantern(e)}},"é¸æ“‡",8,T)])})),128))])])}var z=t(9201),Y=(t(6280),t(6918),t(113),t(9089),[{id:1,name:"å¹³å®‰ç‡ˆ",description:"ç¥ˆæ±‚å¹³å®‰é †é‚",price:100},{id:2,name:"æ™ºæ…§ç‡ˆ",description:"å¢é•·æ™ºæ…§æ‰èƒ½",price:150},{id:3,name:"å¥åº·ç‡ˆ",description:"ç¥ˆæ±‚èº«é«”å¥åº·",price:120},{id:4,name:"è²¡å¯Œç‡ˆ",description:"ç¥ˆæ±‚è²¡é‹äº¨é€š",price:200},{id:5,name:"å§»ç·£ç‡ˆ",description:"ç¥ˆæ±‚è‰¯ç·£åˆ°ä¾†",price:180},{id:6,name:"äº‹æ¥­ç‡ˆ",description:"ç¥ˆæ±‚äº‹æ¥­æœ‰æˆ",price:160},{id:7,name:"å­¸æ¥­ç‡ˆ",description:"ç¥ˆæ±‚å­¸æ¥­é€²æ­¥",price:130},{id:8,name:"å®¶åº­ç‡ˆ",description:"ç¥ˆæ±‚å®¶åº­å’Œç¦",price:140},{id:9,name:"é•·å£½ç‡ˆ",description:"ç¥ˆæ±‚é•·å£½å®‰åº·",price:170},{id:10,name:"åŠŸå¾·ç‡ˆ",description:"ç¥ˆæ±‚åŠŸå¾·åœ“æ»¿",price:190},{id:11,name:"æ¶ˆç½ç‡ˆ",description:"ç¥ˆæ±‚æ¶ˆç½è§£å„",price:110},{id:12,name:"æ·»ç¦ç‡ˆ",description:"ç¥ˆæ±‚ç¦é‹ç¶¿é•·",price:130},{id:13,name:"å…‰æ˜ç‡ˆ",description:"ç¥ˆæ±‚å‰é€”å…‰æ˜",price:150},{id:14,name:"å®‰ç¥ç‡ˆ",description:"ç¥ˆæ±‚å¿ƒç¥å®‰å¯§",price:140},{id:15,name:"ç¥ˆé¡˜ç‡ˆ",description:"å¯¦ç¾å¿ƒä¸­é¡˜æœ›",price:160}]),Z=[{id:1,name:"å¹³å®‰ç‡ˆ",totalCount:100,litCount:3,litBy:[{name:"å¼µä¸‰",message:"ç¥ˆæ±‚å…¨å®¶å¹³å®‰"},{name:"æå››",message:"é¡˜ä¸–ç•Œå’Œå¹³"},{name:"ç‹äº”",message:"ä¿ä½‘èº«é«”å¥åº·"}]},{id:2,name:"æ™ºæ…§ç‡ˆ",totalCount:50,litCount:2,litBy:[{name:"è¶™å…­",message:"ç¥ˆæ±‚å­¸æ¥­é€²æ­¥"},{name:"éŒ¢ä¸ƒ",message:"é¡˜å·¥ä½œé †åˆ©"}]}],ee=[{id:1,email:"admin",isAdmin:!0},{id:2,email:"user@example.com",isAdmin:!1}],ne=[{id:1,name:"å¹³å®‰ç‡ˆ",date:"2023-05-01",message:"ç¥ˆæ±‚å…¨å®¶å¹³å®‰"},{id:2,name:"æ™ºæ…§ç‡ˆ",date:"2023-06-15",message:"ç¥ˆæ±‚å­¸æ¥­é€²æ­¥"}],te={getLanterns:function(){return Promise.resolve(Y)},createLantern:function(e){return Promise.resolve((0,z.A)((0,z.A)({},e),{},{id:Date.now()}))},getLanternStatus:function(){return Promise.resolve(Z)},deleteLantern:function(e){return Promise.resolve({success:!0,deletedLanternId:e})},getLanternDetailById:function(e){return Promise.resolve(Z.find((function(n){return n.id===e})))}},re={login:function(e){return"admin"===e.email&&"admin"===e.password?Promise.resolve({user:{id:1,email:"admin",isAdmin:!0}}):"user"===e.email&&"user"===e.password?Promise.resolve({user:{id:2,email:"user@example.com",isAdmin:!1}}):Promise.reject(new Error("Invalid credentials"))},register:function(e){return Promise.resolve({user:(0,z.A)((0,z.A)({id:3},e),{},{isAdmin:!1})})},getUsers:function(){return Promise.resolve(ee)},deleteUser:function(e){return Promise.resolve({success:!0,deletedUserId:e})},getUserLanterns:function(){return Promise.resolve(ne)},updateProfile:function(e){return Promise.resolve((0,z.A)((0,z.A)({},e),{},{id:1}))},changePassword:function(e){return console.log("Changing password:",e),Promise.resolve({success:!0})},getUserOrders:function(e){return console.log("Fetching orders for user:",e),Promise.resolve([{id:1,date:"2023-05-01",lanternName:"å¹³å®‰ç‡ˆ",amount:100},{id:2,date:"2023-06-15",lanternName:"æ™ºæ…§ç‡ˆ",amount:150}])}},ae={processPayment:function(e){return Promise.resolve({success:!0,orderId:Date.now(),data:e})}},ue=[{id:1,user:"å¼µä¸‰",lantern:"å¹³å®‰ç‡ˆ",message:"ç¥ˆæ±‚å…¨å®¶å¹³å®‰",status:"pending"},{id:2,user:"æå››",lantern:"æ™ºæ…§ç‡ˆ",message:"ç¥ˆæ±‚å­¸æ¥­é€²æ­¥",status:"approved"}],oe={siteName:"ç·šä¸Šé»å…‰æ˜ç‡ˆå°",maxLanterns:1e3,prayerApprovalRequired:!0},se={getPrayers:function(){return Promise.resolve(ue)},updatePrayerStatus:function(e,n){return Promise.resolve({success:!0,id:e,status:n})}},le={getSettings:function(){return Promise.resolve(oe)},updateSettings:function(e){return oe=(0,z.A)((0,z.A)({},oe),e),Promise.resolve({success:!0})}},ie=[{id:1,user:"å¼µä¸‰",lantern:"å¹³å®‰ç‡ˆ",amount:100,date:"2023-05-01",status:"completed"},{id:2,user:"æå››",lantern:"æ™ºæ…§ç‡ˆ",amount:150,date:"2023-06-15",status:"pending"}],ce={getOrders:function(){return Promise.resolve(ie)},updateOrderStatus:function(e,n){var t=ie.find((function(n){return n.id===e}));return t&&(t.status=n),Promise.resolve({success:!0})}};const de={setup:function(){var e=(0,v.rd)(),n=(0,m.Pj)(),t=(0,p.KR)([]);(0,a.sV)((0,b.A)((0,w.A)().mark((function e(){return(0,w.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te.getLanterns();case 2:t.value=e.sent;case 3:case"end":return e.stop()}}),e)}))));var r=function(t){n.commit("setSelectedLantern",t),e.push("/checkout")};return{lanterns:t,selectLantern:r}}},pe=(0,A.A)(de,[["render",G],["__scopeId","data-v-1f2aa137"]]),me=pe;var ve={class:"lantern-status"},fe={key:0,class:"lantern-list"},ke={key:1};function Le(e,n,t,r,o,s){var l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",ve,[n[1]||(n[1]=(0,a.Lk)("h2",null,"å…‰æ˜ç‡ˆç‹€æ…‹æ¦‚è¦½",-1)),r.lanterns.length?((0,a.uX)(),(0,a.CE)("div",fe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.lanterns,(function(e){return(0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"lantern-item"},[(0,a.Lk)("h3",null,(0,u.v_)(e.name),1),(0,a.Lk)("p",null,"å·²é»äº®: "+(0,u.v_)(e.litCount)+" / "+(0,u.v_)(e.totalCount),1),(0,a.bF)(l,{to:"/lantern-detail/".concat(e.id)},{default:(0,a.k6)((function(){return n[0]||(n[0]=[(0,a.eW)("æŸ¥çœ‹è©³æƒ…")])})),_:2},1032,["to"])])})),128))])):((0,a.uX)(),(0,a.CE)("p",ke,"ç›®å‰æ²’æœ‰å…‰æ˜ç‡ˆè³‡è¨Šã€‚"))])}const he={setup:function(){var e=(0,p.KR)([]);return(0,a.sV)((0,b.A)((0,w.A)().mark((function n(){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.getLanternStatus();case 3:e.value=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.error("ç²å–å…‰æ˜ç‡ˆç‹€æ…‹å¤±æ•—",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),{lanterns:e}}},ge=(0,A.A)(he,[["render",Le],["__scopeId","data-v-dbe42e4e"]]),we=ge;var be={class:"checkout"},ye={key:0};function Ae(e,n,t,o,s,l){return(0,a.uX)(),(0,a.CE)("div",be,[n[3]||(n[3]=(0,a.Lk)("h2",null,"çµå¸³",-1)),o.selectedLantern?((0,a.uX)(),(0,a.CE)("div",ye,[(0,a.Lk)("h3",null,(0,u.v_)(o.selectedLantern.name),1),(0,a.Lk)("p",null,"åƒ¹æ ¼: $"+(0,u.v_)(o.selectedLantern.price),1)])):(0,a.Q3)("",!0),(0,a.Lk)("form",{onSubmit:n[1]||(n[1]=(0,r.D$)((function(){return o.processPayment&&o.processPayment.apply(o,arguments)}),["prevent"]))},[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.prayerMessage=e}),placeholder:"ç¥ˆç¦ç•™è¨€"},null,512),[[r.Jo,o.prayerMessage]]),n[2]||(n[2]=(0,a.Lk)("button",{type:"submit"},"ç¢ºèªä»˜æ¬¾",-1))],32)])}const Ce={setup:function(){var e=(0,v.rd)(),n=(0,m.Pj)(),t=(0,p.KR)(""),r=(0,a.EW)((function(){return n.state.selectedLantern})),u=function(){var n=(0,b.A)((0,w.A)().mark((function n(){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ae.processPayment({lanternId:r.value.id,amount:r.value.price,prayerMessage:t.value});case 3:e.push("/payment-success"),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.error("æ”¯ä»˜å¤±æ•—",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return{selectedLantern:r,prayerMessage:t,processPayment:u}}},Pe=(0,A.A)(Ce,[["render",Ae]]),_e=Pe;var xe={class:"admin-dashboard"},Ee={class:"admin-nav"};function Xe(e,n,t,r,u,o){var s=(0,a.g2)("router-link"),l=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",xe,[n[5]||(n[5]=(0,a.Lk)("h2",null,"ç®¡ç†å“¡å„€è¡¨æ¿",-1)),(0,a.Lk)("nav",Ee,[(0,a.bF)(s,{to:"/admin/users",class:"admin-nav-button"},{default:(0,a.k6)((function(){return n[0]||(n[0]=[(0,a.eW)("ä½¿ç”¨è€…ç®¡ç†")])})),_:1}),(0,a.bF)(s,{to:"/admin/lanterns",class:"admin-nav-button"},{default:(0,a.k6)((function(){return n[1]||(n[1]=[(0,a.eW)("å…‰æ˜ç‡ˆç®¡ç†")])})),_:1}),(0,a.bF)(s,{to:"/admin/prayers",class:"admin-nav-button"},{default:(0,a.k6)((function(){return n[2]||(n[2]=[(0,a.eW)("ç¥ˆç¦ç•™è¨€ç®¡ç†")])})),_:1}),(0,a.bF)(s,{to:"/admin/orders",class:"admin-nav-button"},{default:(0,a.k6)((function(){return n[3]||(n[3]=[(0,a.eW)("è¨‚å–®ç®¡ç†")])})),_:1}),(0,a.bF)(s,{to:"/admin/settings",class:"admin-nav-button"},{default:(0,a.k6)((function(){return n[4]||(n[4]=[(0,a.eW)("ç³»çµ±è¨­ç½®")])})),_:1})]),(0,a.bF)(l)])}const Me={name:"AdminDashboard"},Ie=(0,A.A)(Me,[["render",Xe],["__scopeId","data-v-38fdcc56"]]),Se=Ie;var Ue={class:"user-management"},Fe=["onClick"],We=["onClick"];function Ke(e,n,t,r,o,s){return(0,a.uX)(),(0,a.CE)("div",Ue,[n[1]||(n[1]=(0,a.Lk)("h3",null,"ä½¿ç”¨è€…ç®¡ç†",-1)),(0,a.Lk)("table",null,[n[0]||(n[0]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"ID"),(0,a.Lk)("th",null,"é›»å­éƒµä»¶"),(0,a.Lk)("th",null,"å§“å"),(0,a.Lk)("th",null,"è§’è‰²"),(0,a.Lk)("th",null,"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.users,(function(e){return(0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,u.v_)(e.id),1),(0,a.Lk)("td",null,(0,u.v_)(e.email),1),(0,a.Lk)("td",null,(0,u.v_)(e.name),1),(0,a.Lk)("td",null,(0,u.v_)(e.isAdmin?"ç®¡ç†å“¡":"ä¸€èˆ¬ç”¨æˆ¶"),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{onClick:function(n){return r.editUser(e)},class:"action-button edit"},"ç·¨è¼¯",8,Fe),(0,a.Lk)("button",{onClick:function(n){return r.deleteUser(e.id)},class:"action-button delete"},"åˆªé™¤",8,We)])])})),128))])])])}t(2008);const Re={name:"UserManagement",setup:function(){var e=(0,p.KR)([]);(0,a.sV)((0,b.A)((0,w.A)().mark((function n(){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,re.getUsers();case 2:e.value=n.sent;case 3:case"end":return n.stop()}}),n)}))));var n=function(e){console.log("ç·¨è¼¯ç”¨æˆ¶",e)},t=function(){var n=(0,b.A)((0,w.A)().mark((function n(t){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!confirm("ç¢ºå®šè¦åˆªé™¤æ­¤ç”¨æˆ¶å—ï¼Ÿ")){n.next=4;break}return n.next=3,re.deleteUser(t);case 3:e.value=e.value.filter((function(e){return e.id!==t}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{users:e,editUser:n,deleteUser:t}}},Ve=(0,A.A)(Re,[["render",Ke],["__scopeId","data-v-be8ad7cc"]]),qe=Ve;var Oe={class:"lantern-management"},je={key:0,class:"add-form"},De=["onClick"],Je=["onClick"];function $e(e,n,t,o,s,l){return(0,a.uX)(),(0,a.CE)("div",Oe,[n[10]||(n[10]=(0,a.Lk)("h3",null,"å…‰æ˜ç‡ˆç®¡ç†",-1)),(0,a.Lk)("button",{onClick:n[0]||(n[0]=function(e){return o.showAddForm=!0}),class:"add-button"},"æ–°å¢å…‰æ˜ç‡ˆ"),o.showAddForm?((0,a.uX)(),(0,a.CE)("div",je,[n[8]||(n[8]=(0,a.Lk)("h4",null,"æ–°å¢å…‰æ˜ç‡ˆ",-1)),(0,a.Lk)("form",{onSubmit:n[6]||(n[6]=(0,r.D$)((function(){return o.addLantern&&o.addLantern.apply(o,arguments)}),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.newLantern.name=e}),placeholder:"åç¨±",required:""},null,512),[[r.Jo,o.newLantern.name]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.newLantern.description=e}),placeholder:"æè¿°",required:""},null,512),[[r.Jo,o.newLantern.description]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[3]||(n[3]=function(e){return o.newLantern.price=e}),type:"number",placeholder:"åƒ¹æ ¼",required:""},null,512),[[r.Jo,o.newLantern.price,void 0,{number:!0}]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[4]||(n[4]=function(e){return o.newLantern.totalCount=e}),type:"number",placeholder:"ç¸½æ•¸é‡",required:""},null,512),[[r.Jo,o.newLantern.totalCount,void 0,{number:!0}]]),n[7]||(n[7]=(0,a.Lk)("button",{type:"submit"},"æ–°å¢",-1)),(0,a.Lk)("button",{type:"button",onClick:n[5]||(n[5]=function(e){return o.showAddForm=!1})},"å–æ¶ˆ")],32)])):(0,a.Q3)("",!0),(0,a.Lk)("table",null,[n[9]||(n[9]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"ID"),(0,a.Lk)("th",null,"åç¨±"),(0,a.Lk)("th",null,"æè¿°"),(0,a.Lk)("th",null,"åƒ¹æ ¼"),(0,a.Lk)("th",null,"ç¸½æ•¸é‡"),(0,a.Lk)("th",null,"å·²é»äº®"),(0,a.Lk)("th",null,"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.lanterns,(function(e){return(0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,u.v_)(e.id),1),(0,a.Lk)("td",null,(0,u.v_)(e.name),1),(0,a.Lk)("td",null,(0,u.v_)(e.description),1),(0,a.Lk)("td",null,"$"+(0,u.v_)(e.price),1),(0,a.Lk)("td",null,(0,u.v_)(e.totalCount),1),(0,a.Lk)("td",null,(0,u.v_)(e.litCount),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{onClick:function(n){return o.editLantern(e)},class:"action-button edit"},"ç·¨è¼¯",8,De),(0,a.Lk)("button",{onClick:function(n){return o.deleteLantern(e.id)},class:"action-button delete"},"åˆªé™¤",8,Je)])])})),128))])])])}const Qe={name:"LanternManagement",setup:function(){var e=(0,p.KR)([]),n=(0,p.KR)(!1),t=(0,p.KR)({name:"",description:"",price:0,totalCount:0});(0,a.sV)((0,b.A)((0,w.A)().mark((function n(){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,te.getLanterns();case 2:e.value=n.sent;case 3:case"end":return n.stop()}}),n)}))));var r=function(){var r=(0,b.A)((0,w.A)().mark((function r(){var a;return(0,w.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,te.createLantern(t.value);case 2:a=r.sent,e.value.push(a),t.value={name:"",description:"",price:0,totalCount:0},n.value=!1;case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),u=function(e){console.log("ç·¨è¼¯å…‰æ˜ç‡ˆ",e)},o=function(){var n=(0,b.A)((0,w.A)().mark((function n(t){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!confirm("ç¢ºå®šè¦åˆªé™¤æ­¤å…‰æ˜ç‡ˆå—ï¼Ÿ")){n.next=4;break}return n.next=3,te.deleteLantern(t);case 3:e.value=e.value.filter((function(e){return e.id!==t}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{lanterns:e,showAddForm:n,newLantern:t,addLantern:r,editLantern:u,deleteLantern:o}}},Ne=(0,A.A)(Qe,[["render",$e],["__scopeId","data-v-4b8384e2"]]),Be=Ne;var He={class:"prayer-management"},Te=["onClick"],Ge=["onClick"];function ze(e,n,t,r,o,s){return(0,a.uX)(),(0,a.CE)("div",He,[n[1]||(n[1]=(0,a.Lk)("h3",null,"ç¥ˆç¦ç•™è¨€ç®¡ç†",-1)),(0,a.Lk)("table",null,[n[0]||(n[0]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"ID"),(0,a.Lk)("th",null,"ç”¨æˆ¶"),(0,a.Lk)("th",null,"å…‰æ˜ç‡ˆ"),(0,a.Lk)("th",null,"ç•™è¨€"),(0,a.Lk)("th",null,"ç‹€æ…‹"),(0,a.Lk)("th",null,"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.prayers,(function(e){return(0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,u.v_)(e.id),1),(0,a.Lk)("td",null,(0,u.v_)(e.user),1),(0,a.Lk)("td",null,(0,u.v_)(e.lantern),1),(0,a.Lk)("td",null,(0,u.v_)(e.message),1),(0,a.Lk)("td",null,(0,u.v_)(e.status),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{onClick:function(n){return r.approvePrayer(e.id)}},"æ‰¹å‡†",8,Te),(0,a.Lk)("button",{onClick:function(n){return r.rejectPrayer(e.id)}},"æ‹’çµ•",8,Ge)])])})),128))])])])}t(2062);const Ye={name:"PrayerManagement",setup:function(){var e=(0,p.KR)([]);(0,a.sV)((0,b.A)((0,w.A)().mark((function n(){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,se.getPrayers();case 2:e.value=n.sent;case 3:case"end":return n.stop()}}),n)}))));var n=function(){var n=(0,b.A)((0,w.A)().mark((function n(t){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,se.updatePrayerStatus(t,"approved");case 2:e.value=e.value.map((function(e){return e.id===t?(0,z.A)((0,z.A)({},e),{},{status:"approved"}):e}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),t=function(){var n=(0,b.A)((0,w.A)().mark((function n(t){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,se.updatePrayerStatus(t,"rejected");case 2:e.value=e.value.map((function(e){return e.id===t?(0,z.A)((0,z.A)({},e),{},{status:"rejected"}):e}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{prayers:e,approvePrayer:n,rejectPrayer:t}}},Ze=(0,A.A)(Ye,[["render",ze]]),en=Ze;var nn={class:"system-settings"};function tn(e,n,t,u,o,s){return(0,a.uX)(),(0,a.CE)("div",nn,[n[8]||(n[8]=(0,a.Lk)("h3",null,"ç³»çµ±è¨­ç½®",-1)),(0,a.Lk)("form",{onSubmit:n[3]||(n[3]=(0,r.D$)((function(){return u.saveSettings&&u.saveSettings.apply(u,arguments)}),["prevent"]))},[(0,a.Lk)("div",null,[n[4]||(n[4]=(0,a.Lk)("label",{for:"siteName"},"ç¶²ç«™åç¨±ï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"siteName","onUpdate:modelValue":n[0]||(n[0]=function(e){return u.settings.siteName=e}),type:"text"},null,512),[[r.Jo,u.settings.siteName]])]),(0,a.Lk)("div",null,[n[5]||(n[5]=(0,a.Lk)("label",{for:"maxLanterns"},"æœ€å¤§å…‰æ˜ç‡ˆæ•¸é‡ï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"maxLanterns","onUpdate:modelValue":n[1]||(n[1]=function(e){return u.settings.maxLanterns=e}),type:"number"},null,512),[[r.Jo,u.settings.maxLanterns,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[n[6]||(n[6]=(0,a.Lk)("label",{for:"prayerApprovalRequired"},"ç¥ˆç¦ç•™è¨€éœ€è¦å¯©æ ¸ï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"prayerApprovalRequired","onUpdate:modelValue":n[2]||(n[2]=function(e){return u.settings.prayerApprovalRequired=e}),type:"checkbox"},null,512),[[r.lH,u.settings.prayerApprovalRequired]])]),n[7]||(n[7]=(0,a.Lk)("button",{type:"submit"},"ä¿å­˜è¨­ç½®",-1))],32)])}const rn={name:"SystemSettings",setup:function(){var e=(0,p.KR)({siteName:"",maxLanterns:0,prayerApprovalRequired:!1});(0,a.sV)((0,b.A)((0,w.A)().mark((function n(){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,le.getSettings();case 2:e.value=n.sent;case 3:case"end":return n.stop()}}),n)}))));var n=function(){var n=(0,b.A)((0,w.A)().mark((function n(){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,le.updateSettings(e.value);case 2:alert("è¨­ç½®å·²ä¿å­˜");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{settings:e,saveSettings:n}}},an=(0,A.A)(rn,[["render",tn]]),un=an;var on={key:0,class:"lantern-detail"},sn={key:0,class:"lit-lanterns"},ln={key:1},cn={key:1};function dn(e,n,t,r,o,s){return r.lantern?((0,a.uX)(),(0,a.CE)("div",on,[(0,a.Lk)("h2",null,(0,u.v_)(r.lantern.name)+" è©³ç´°ç‹€æ…‹",1),(0,a.Lk)("p",null,"ç¸½æ•¸: "+(0,u.v_)(r.lantern.totalCount),1),(0,a.Lk)("p",null,"å·²é»äº®: "+(0,u.v_)(r.lantern.litCount),1),(0,a.Lk)("p",null,"å‰©é¤˜: "+(0,u.v_)(r.lantern.totalCount-r.lantern.litCount),1),n[2]||(n[2]=(0,a.Lk)("h3",null,"å·²é»äº®çš„ç‡ˆ",-1)),r.lantern.litBy.length?((0,a.uX)(),(0,a.CE)("div",sn,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.lantern.litBy,(function(e,t){return(0,a.uX)(),(0,a.CE)("div",{key:t,class:"lit-lantern"},[(0,a.Lk)("p",null,[n[0]||(n[0]=(0,a.Lk)("strong",null,"é»ç‡ˆè€…:",-1)),(0,a.eW)(" "+(0,u.v_)(e.name),1)]),(0,a.Lk)("p",null,[n[1]||(n[1]=(0,a.Lk)("strong",null,"ç¥ˆç¦ç•™è¨€:",-1)),(0,a.eW)(" "+(0,u.v_)(e.message),1)])])})),128))])):((0,a.uX)(),(0,a.CE)("p",ln,"ç›®å‰é‚„æ²’æœ‰äººé»äº®é€™ç¨®ç‡ˆã€‚"))])):((0,a.uX)(),(0,a.CE)("p",cn,"åŠ è¼‰ä¸­..."))}t(8940);const pn={setup:function(){var e=(0,v.lq)(),n=(0,p.KR)(null);return(0,a.sV)((0,b.A)((0,w.A)().mark((function t(){var r;return(0,w.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=parseInt(e.params.id),t.next=4,te.getLanternDetailById(r);case 4:n.value=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("ç²å–å…‰æ˜ç‡ˆè©³ï¿½ï¿½å¤±æ•—",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),{lantern:n}}},mn=(0,A.A)(pn,[["render",dn],["__scopeId","data-v-d1b307c2"]]),vn=mn;var fn={class:"user-profile"},kn={key:0},Ln={class:"profile-section"},hn={key:0},gn={class:"form-group"},wn={class:"form-group"},bn={class:"profile-section"},yn={class:"form-group"},An={class:"form-group"},Cn={class:"form-group"},Pn={class:"profile-section"},_n={key:0},xn={key:1},En={key:1};function Xn(e,n,t,o,s,l){return(0,a.uX)(),(0,a.CE)("div",fn,[n[26]||(n[26]=(0,a.Lk)("h2",null,"æœƒå“¡è³‡æ–™",-1)),o.user?((0,a.uX)(),(0,a.CE)("div",kn,[(0,a.Lk)("div",Ln,[n[15]||(n[15]=(0,a.Lk)("h3",null,"å€‹äººè³‡æ–™",-1)),o.isEditing?((0,a.uX)(),(0,a.CE)("form",{key:1,onSubmit:n[4]||(n[4]=(0,r.D$)((function(){return o.updateProfile&&o.updateProfile.apply(o,arguments)}),["prevent"]))},[(0,a.Lk)("div",gn,[n[12]||(n[12]=(0,a.Lk)("label",{for:"name"},"å§“åï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"name","onUpdate:modelValue":n[1]||(n[1]=function(e){return o.editedUser.name=e}),required:""},null,512),[[r.Jo,o.editedUser.name]])]),(0,a.Lk)("div",wn,[n[13]||(n[13]=(0,a.Lk)("label",{for:"phone"},"é›»è©±ï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"phone","onUpdate:modelValue":n[2]||(n[2]=function(e){return o.editedUser.phone=e}),required:""},null,512),[[r.Jo,o.editedUser.phone]])]),n[14]||(n[14]=(0,a.Lk)("button",{type:"submit"},"ä¿å­˜",-1)),(0,a.Lk)("button",{onClick:n[3]||(n[3]=function(){return o.cancelEditing&&o.cancelEditing.apply(o,arguments)})},"å–æ¶ˆ")],32)):((0,a.uX)(),(0,a.CE)("div",hn,[(0,a.Lk)("p",null,[n[9]||(n[9]=(0,a.Lk)("strong",null,"ç”¨æˆ¶åï¼š",-1)),(0,a.eW)(" "+(0,u.v_)(o.user.email),1)]),(0,a.Lk)("p",null,[n[10]||(n[10]=(0,a.Lk)("strong",null,"å§“åï¼š",-1)),(0,a.eW)(" "+(0,u.v_)(o.user.name),1)]),(0,a.Lk)("p",null,[n[11]||(n[11]=(0,a.Lk)("strong",null,"é›»è©±ï¼š",-1)),(0,a.eW)(" "+(0,u.v_)(o.user.phone),1)]),(0,a.Lk)("button",{onClick:n[0]||(n[0]=function(){return o.startEditing&&o.startEditing.apply(o,arguments)})},"ç·¨è¼¯è³‡æ–™")]))]),(0,a.Lk)("div",bn,[n[20]||(n[20]=(0,a.Lk)("h3",null,"æ›´æ”¹å¯†ç¢¼",-1)),(0,a.Lk)("form",{onSubmit:n[8]||(n[8]=(0,r.D$)((function(){return o.changePassword&&o.changePassword.apply(o,arguments)}),["prevent"]))},[(0,a.Lk)("div",yn,[n[16]||(n[16]=(0,a.Lk)("label",{for:"currentPassword"},"ç•¶å‰å¯†ç¢¼ï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"currentPassword","onUpdate:modelValue":n[5]||(n[5]=function(e){return o.passwordForm.currentPassword=e}),type:"password",required:""},null,512),[[r.Jo,o.passwordForm.currentPassword]])]),(0,a.Lk)("div",An,[n[17]||(n[17]=(0,a.Lk)("label",{for:"newPassword"},"æ–°å¯†ç¢¼ï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"newPassword","onUpdate:modelValue":n[6]||(n[6]=function(e){return o.passwordForm.newPassword=e}),type:"password",required:""},null,512),[[r.Jo,o.passwordForm.newPassword]])]),(0,a.Lk)("div",Cn,[n[18]||(n[18]=(0,a.Lk)("label",{for:"confirmPassword"},"ç¢ºèªæ–°å¯†ç¢¼ï¼š",-1)),(0,a.bo)((0,a.Lk)("input",{id:"confirmPassword","onUpdate:modelValue":n[7]||(n[7]=function(e){return o.passwordForm.confirmPassword=e}),type:"password",required:""},null,512),[[r.Jo,o.passwordForm.confirmPassword]])]),n[19]||(n[19]=(0,a.Lk)("button",{type:"submit"},"æ›´æ”¹å¯†ç¢¼",-1))],32)]),(0,a.Lk)("div",Pn,[n[25]||(n[25]=(0,a.Lk)("h3",null,"è¨‚å–®æ­·å²",-1)),o.orders.length?((0,a.uX)(),(0,a.CE)("div",_n,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.orders,(function(e){return(0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"order-item"},[(0,a.Lk)("p",null,[n[21]||(n[21]=(0,a.Lk)("strong",null,"è¨‚å–®ç·¨è™Ÿï¼š",-1)),(0,a.eW)(" "+(0,u.v_)(e.id),1)]),(0,a.Lk)("p",null,[n[22]||(n[22]=(0,a.Lk)("strong",null,"æ—¥æœŸï¼š",-1)),(0,a.eW)(" "+(0,u.v_)(e.date),1)]),(0,a.Lk)("p",null,[n[23]||(n[23]=(0,a.Lk)("strong",null,"å…‰æ˜ç‡ˆï¼š",-1)),(0,a.eW)(" "+(0,u.v_)(e.lanternName),1)]),(0,a.Lk)("p",null,[n[24]||(n[24]=(0,a.Lk)("strong",null,"é‡‘é¡ï¼š",-1)),(0,a.eW)(" $"+(0,u.v_)(e.amount),1)])])})),128))])):((0,a.uX)(),(0,a.CE)("p",xn,"æ‚¨é‚„æ²’æœ‰ä»»ä½•è¨‚å–®ã€‚"))])])):((0,a.uX)(),(0,a.CE)("p",En,"è¼‰å…¥ä¸­..."))])}const Mn={setup:function(){var e=(0,m.Pj)(),n=(0,a.EW)((function(){return e.state.user})),t=(0,p.KR)({}),r=(0,p.KR)(!1),u=(0,p.KR)([]),o=(0,p.KR)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.sV)((0,b.A)((0,w.A)().mark((function e(){return(0,w.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.value){e.next=11;break}return t.value=(0,z.A)({},n.value),e.prev=2,e.next=5,re.getUserOrders(n.value.id);case 5:u.value=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.error("ç²å–è¨‚å–®æ­·å²å¤±æ•—",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])}))));var s=function(){r.value=!0},l=function(){r.value=!1,t.value=(0,z.A)({},n.value)},i=function(){var n=(0,b.A)((0,w.A)().mark((function n(){var a;return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,re.updateProfile(t.value);case 3:a=n.sent,e.commit("setUser",a),r.value=!1,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error("æ›´æ–°è³‡æ–™å¤±æ•—",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),c=function(){var e=(0,b.A)((0,w.A)().mark((function e(){return(0,w.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.value.newPassword===o.value.confirmPassword){e.next=3;break}return alert("æ–°å¯†ç¢¼å’Œç¢ºèªå¯†ç¢¼ä¸åŒ¹é…"),e.abrupt("return");case 3:return e.prev=3,e.next=6,re.changePassword(o.value);case 6:alert("å¯†ç¢¼å·²æˆåŠŸæ›´æ”¹"),o.value={currentPassword:"",newPassword:"",confirmPassword:""},e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("æ›´æ”¹å¯†ç¢¼å¤±æ•—",e.t0),alert("æ›´æ”¹å¯†ç¢¼å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç•¶å‰å¯†ç¢¼æ˜¯å¦æ­£ç¢º");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return{user:n,editedUser:t,isEditing:r,orders:u,passwordForm:o,startEditing:s,cancelEditing:l,updateProfile:i,changePassword:c}}},In=(0,A.A)(Mn,[["render",Xn],["__scopeId","data-v-06e1df1f"]]),Sn=In;var Un={class:"order-management"},Fn=["onClick"],Wn=["onClick"];function Kn(e,n,t,r,o,s){return(0,a.uX)(),(0,a.CE)("div",Un,[n[1]||(n[1]=(0,a.Lk)("h3",null,"è¨‚å–®ç®¡ç†",-1)),(0,a.Lk)("table",null,[n[0]||(n[0]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"è¨‚å–®ID"),(0,a.Lk)("th",null,"ç”¨æˆ¶"),(0,a.Lk)("th",null,"å…‰æ˜ç‡ˆ"),(0,a.Lk)("th",null,"é‡‘é¡"),(0,a.Lk)("th",null,"æ—¥æœŸ"),(0,a.Lk)("th",null,"ç‹€æ…‹"),(0,a.Lk)("th",null,"æ“ä½œ")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.orders,(function(e){return(0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,u.v_)(e.id),1),(0,a.Lk)("td",null,(0,u.v_)(e.user),1),(0,a.Lk)("td",null,(0,u.v_)(e.lantern),1),(0,a.Lk)("td",null,"$"+(0,u.v_)(e.amount),1),(0,a.Lk)("td",null,(0,u.v_)(e.date),1),(0,a.Lk)("td",null,(0,u.v_)(e.status),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{onClick:function(n){return r.updateOrderStatus(e.id,"completed")},class:"action-button complete"},"å®Œæˆ",8,Fn),(0,a.Lk)("button",{onClick:function(n){return r.updateOrderStatus(e.id,"cancelled")},class:"action-button cancel"},"å–æ¶ˆ",8,Wn)])])})),128))])])])}const Rn={name:"OrderManagement",setup:function(){var e=(0,p.KR)([]);(0,a.sV)((0,b.A)((0,w.A)().mark((function n(){return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ce.getOrders();case 2:e.value=n.sent;case 3:case"end":return n.stop()}}),n)}))));var n=function(){var n=(0,b.A)((0,w.A)().mark((function n(t,r){var a;return(0,w.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ce.updateOrderStatus(t,r);case 2:a=e.value.find((function(e){return e.id===t})),a&&(a.status=r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return{orders:e,updateOrderStatus:n}}},Vn=(0,A.A)(Rn,[["render",Kn],["__scopeId","data-v-21684058"]]),qn=Vn;var On=[{path:"/",name:"Home",component:W},{path:"/register",name:"Register",component:O},{path:"/forgot-password",name:"ForgotPassword",component:Q},{path:"/lanterns",name:"LanternList",component:me},{path:"/lantern-status",name:"LanternStatus",component:we},{path:"/lantern-detail/:id",name:"LanternDetail",component:vn},{path:"/checkout",name:"Checkout",component:_e},{path:"/admin",name:"AdminDashboard",component:Se,meta:{requiresAdmin:!0},children:[{path:"users",name:"UserManagement",component:qe},{path:"lanterns",name:"LanternManagement",component:Be},{path:"prayers",name:"PrayerManagement",component:en},{path:"orders",name:"OrderManagement",component:qn},{path:"settings",name:"SystemSettings",component:un}]},{path:"/profile",name:"UserProfile",component:Sn,meta:{requiresAuth:!0}}],jn=(0,v.aE)({history:(0,v.Bt)(),routes:On});jn.beforeEach((function(e,n,t){var r=!!localStorage.getItem("user");if(e.matched.some((function(e){return e.meta.requiresAuth})))r?t():t("/login");else if(e.matched.some((function(e){return e.meta.requiresAdmin}))){var a="true"===localStorage.getItem("isAdmin");a?t():t("/login")}else t()}));const Dn=jn;t(739),t(3110),t(9432);const Jn=(0,m.y$)({state:{user:null,showLoginModal:!1},mutations:{setUser:function(e,n){e.user=n,n?(localStorage.setItem("user",JSON.stringify(n)),n.isAdmin?localStorage.setItem("isAdmin","true"):localStorage.removeItem("isAdmin")):(localStorage.removeItem("user"),localStorage.removeItem("isAdmin"))},setShowLoginModal:function(e,n){e.showLoginModal=n}},actions:{login:function(e,n){return(0,b.A)((0,w.A)().mark((function t(){var r,a;return(0,w.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,re.login(n);case 4:return a=t.sent,r("setUser",a.user),t.abrupt("return",a.user);case 9:throw t.prev=9,t.t0=t["catch"](1),console.error("Login failed:",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},register:function(e,n){return(0,b.A)((0,w.A)().mark((function t(){var r,a;return(0,w.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,re.register(n);case 3:return a=t.sent,r("setUser",a.user),t.abrupt("return",a.user);case 6:case"end":return t.stop()}}),t)})))()},logout:function(e){var n=e.commit;n("setUser",null)},checkAuth:function(e){var n=e.commit,t=JSON.parse(localStorage.getItem("user"));t&&n("setUser",t)}},getters:{isAdmin:function(e){return e.user&&e.user.isAdmin},isLoggedIn:function(e){return!!e.user}}});var $n=(0,r.Ef)(E);$n.use(Jn),$n.use(Dn),Jn.dispatch("checkAuth").then((function(){$n.mount("#app")}))}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var u=n[r]={exports:{}};return e[r].call(u.exports,u,u.exports,t),u.exports}t.m=e,(()=>{var e=[];t.O=(n,r,a,u)=>{if(!r){var o=1/0;for(c=0;c<e.length;c++){for(var[r,a,u]=e[c],s=!0,l=0;l<r.length;l++)(!1&u||o>=u)&&Object.keys(t.O).every((e=>t.O[e](r[l])))?r.splice(l--,1):(s=!1,u<o&&(o=u));if(s){e.splice(c--,1);var i=a();void 0!==i&&(n=i)}}return n}u=u||0;for(var c=e.length;c>0&&e[c-1][2]>u;c--)e[c]=e[c-1];e[c]=[r,a,u]}})(),(()=>{t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={524:0};t.O.j=n=>0===e[n];var n=(n,r)=>{var a,u,[o,s,l]=r,i=0;if(o.some((n=>0!==e[n]))){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(l)var c=l(t)}for(n&&n(r);i<o.length;i++)u=o[i],t.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return t.O(c)},r=self["webpackChunkvirtual_illumination_lamp"]=self["webpackChunkvirtual_illumination_lamp"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var r=t.O(void 0,[504],(()=>t(5827)));r=t.O(r)})();
//# sourceMappingURL=app.86816c3e.js.map